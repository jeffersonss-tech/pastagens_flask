<div class="modal" id="modal-editar-piquete">
    <div class="modal-content" style="width: 600px; max-width: 95%; max-height: 90vh; overflow-y: auto;">
        <div class="modal-header">
            <h3><i class="fas fa-pen"></i> Editar Piquete</h3>
            <button class="modal-close" onclick="fecharModalEditarPiquete()">×</button>
        </div>
        <input type="hidden" id="edit-pq-id">
        
        <div class="form-group">
            <label><strong>Nome do Piquete *</strong></label>
            <input type="text" id="edit-pq-nome" placeholder="Ex: Piquete 01">
        </div>
        
        <div class="form-group">
            <label><strong>Tipo de Capim *</strong></label>
            <select id="edit-pq-capim" onchange="atualizarInfoCapimEdit()">
                <option value="">Selecione...</option>
            </select>
            <div id="edit-info-capim" style="display:none; background: #e3f2fd; padding: 12px; border-radius: 8px; margin-top: 8px; font-size: 0.85rem;"></div>
        </div>
        
        <div class="form-group">
            <label><strong>Área (hectares) *</strong></label>
            <input type="number" id="edit-pq-area" value="0" step="0.1" readonly style="background: #f5f5f5;">
            <small style="color: #666;"><i class="fas fa-lightbulb"></i> Área calculada automaticamente. Se não tiver geometria, libere o campo.</small>
        </div>
        
        <!-- Parâmetros Técnicos Obrigatórios -->
        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
            <h4 style="margin-bottom: 12px; color: #856404;"><i class="fas fa-gear"></i> Parâmetros Técnicos (Obrigatórios)</h4>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div class="form-group">
                    <label>Altura de Entrada (cm) *</label>
                    <input type="number" id="edit-pq-altura-entrada" value="0" min="1" step="1">
                </div>
                <div class="form-group">
                    <label>Altura Mínima de Saída (cm) *</label>
                    <input type="number" id="edit-pq-altura-saida" value="0" min="1" step="1">
                </div>
            </div>
        </div>
        
        <!-- Parâmetros Avançados -->
        <details style="margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px;">
            <summary style="padding: 12px; cursor: pointer; background: #f8f9fa; border-radius: 8px; font-weight: bold;">
                <i class="fas fa-wrench"></i> Parâmetros Avançados (Opcionais)
            </summary>
            <div style="padding: 15px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px;">
                    <div class="form-group">
                        <label>Altura Atual do Pasto (cm)</label>
                        <input type="number" id="edit-pq-altura-atual" value="" min="0" step="1" placeholder="Opcional">
                    </div>
                    <div class="form-group">
                        <label>Data da Medição</label>
                        <input type="date" id="edit-pq-data-medicao">
                    </div>
                    <div class="form-group">
                        <label>É Irrigado?</label>
                        <select id="edit-pq-irrigado">
                            <option value="nao">Não</option>
                            <option value="sim">Sim</option>
                        </select>
                    </div>
                </div>
                
                <!-- Suplementação (ração via cocho) -->
                <div style="background: #e8f5e9; padding: 12px; border-radius: 8px; margin-top: 12px;">
                    <div class="form-group" style="margin-bottom: 8px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="edit-pq-possui-cocho" onchange="alternarSuplementacaoEdit()" style="width: 18px; height: 18px;">
                            <strong><i class="fas fa-drumstick-bite"></i> Possui cocho de suplementação?</strong>
                        </label>
                    </div>
                    <div id="edit-div-percentual-suplementacao" class="form-group" style="display: none; margin-bottom: 0;">
                        <label>Percentual da dieta via ração (%)</label>
                        <input type="number" id="edit-pq-percentual-suplementacao" min="1" max="70" step="1" value="0" placeholder="1-70%">
                        <small style="color: #666;">Reduz o consumo de pasto proporcionalmente (máx. 70%)</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Observações Técnicas</label>
                    <textarea id="edit-pq-observacoes" rows="2" placeholder="Solo, histórico, etc." style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;"></textarea>
                </div>
            </div>
        </details>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <button class="btn btn-primary" style="width: 100%;" onclick="validarSalvarEdicaoPiquete()"><i class="fas fa-save"></i> Salvar Alterações</button>
            <button class="btn btn-danger" style="width: 100%;" onclick="excluirPiquete()"><i class="fas fa-trash"></i> Excluir Piquete</button>
        </div>
    </div>
</div>
