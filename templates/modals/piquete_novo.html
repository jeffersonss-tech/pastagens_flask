<div class="modal" id="modal-piquete">
    <div class="modal-content" style="width: 600px; max-width: 95%; max-height: 90vh; overflow-y: auto;">
        <div class="modal-header">
            <h3>üìç Novo Piquete</h3>
            <button class="modal-close" onclick="fecharModalPiquete()">√ó</button>
        </div>
        
        <div class="form-group">
            <label><strong>Nome do Piquete *</strong></label>
            <input type="text" id="pq-nome" placeholder="Ex: Piquete 01">
        </div>
        
        <div class="form-group">
            <label><strong>Tipo de Capim *</strong></label>
            <select id="pq-capim" onchange="atualizarInfoCapim()">
                <option value="">Selecione...</option>
            </select>
            <div id="info-capim" style="display:none; background: #e3f2fd; padding: 12px; border-radius: 8px; margin-top: 8px; font-size: 0.85rem;"></div>
        </div>
        
        <div class="form-group">
            <label><strong>√Årea (hectares) *</strong></label>
            <input type="number" id="pq-area" value="0" step="0.1" readonly style="background: #f5f5f5;">
            <small style="color: #666;">üí° √Årea calculada automaticamente pelo mapa. Se n√£o desenhar, libere o campo.</small>
        </div>
        
        <!-- Par√¢metros T√©cnicos Obrigat√≥rios -->
        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
            <h4 style="margin-bottom: 12px; color: #856404;">‚öôÔ∏è Par√¢metros T√©cnicos (Obrigat√≥rios)</h4>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div class="form-group">
                    <label>Altura de Entrada (cm) *</label>
                    <input type="number" id="pq-altura-entrada" value="0" min="1" step="1">
                </div>
                <div class="form-group">
                    <label>Altura M√≠nima de Sa√≠da (cm) *</label>
                    <input type="number" id="pq-altura-saida" value="0" min="1" step="1">
                </div>
            </div>
        </div>
        
        <!-- Par√¢metros Avan√ßados -->
        <details style="margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px;">
            <summary style="padding: 12px; cursor: pointer; background: #f8f9fa; border-radius: 8px; font-weight: bold;">
                üîß Par√¢metros Avan√ßados (Opcionais)
            </summary>
            <div style="padding: 15px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px;">
                    <div class="form-group">
                        <label>Altura Atual do Pasto (cm)</label>
                        <input type="number" id="pq-altura-atual" value="" min="0" step="1" placeholder="Opcional">
                    </div>
                    <div class="form-group">
                        <label>Data da Medi√ß√£o</label>
                        <input type="date" id="pq-data-medicao">
                    </div>
                    <div class="form-group">
                        <label>√â Irrigado?</label>
                        <select id="pq-irrigado">
                            <option value="nao">N√£o</option>
                            <option value="sim">Sim</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Observa√ß√µes T√©cnicas</label>
                    <textarea id="pq-observacoes" rows="2" placeholder="Solo, hist√≥rico, etc." style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;"></textarea>
                </div>
            </div>
        </details>
        
        <p style="color: #666; font-size: 0.85rem; margin-bottom: 15px;">
            üí° Desenhe o contorno do piquete no mapa abaixo:
        </p>
        
        <button class="btn btn-primary" style="margin-bottom: 10px;" onclick="centralizarLocalizacao()">üìç Minha Localiza√ß√£o</button>
        <button class="btn" style="margin-bottom: 10px; background:#6c757d;color:white;margin-left:5px;" onclick="liberarAreaManual()">‚úèÔ∏è Liberar √Årea</button>
        <button class="btn btn-warning" style="margin-bottom: 10px; margin-left:5px;" onclick="desfazerPonto()">‚Ü©Ô∏è Desfazer</button>
        <button class="btn btn-danger" style="margin-bottom: 10px; margin-left:5px;" onclick="limparDesenho()">üóëÔ∏è Limpar</button>
        <div id="map-desenho" style="height: 250px; border-radius: 8px; margin-bottom: 15px; cursor: crosshair; border: 2px dashed #00d9ff;"></div>
        
        <button class="btn btn-success" style="width: 100%; padding: 12px; font-size: 1rem;" onclick="validarSalvarPiquete()">üíæ Salvar Piquete</button>
    </div>
</div>

<!-- Modal para par√¢metros de capim personalizado (Outro) -->
<div class="modal" id="modal-capim-outro">
    <div class="modal-content" style="width: 420px; max-width: 95%;">
        <div class="modal-header">
            <h3>üåø Configurar capim personalizado</h3>
            <button class="modal-close" onclick="fecharModalCapimOutro()">√ó</button>
        </div>
        <div class="form-group">
            <label><strong>Crescimento (cm/dia) *</strong></label>
            <input type="number" id="outro-crescimento" min="0.1" step="0.1" placeholder="Ex: 1.4">
        </div>
        <div class="form-group">
            <label><strong>Fator consumo *</strong></label>
            <input type="number" id="outro-fator-consumo" min="0.1" step="0.01" placeholder="Ex: 0.85">
        </div>
        <div class="form-group">
            <label><strong>Lota√ß√£o sugerida (UA/ha) *</strong></label>
            <input type="number" id="outro-lotacao" min="0.1" step="0.1" placeholder="Ex: 3.0">
        </div>
        <div style="display: flex; gap: 8px; justify-content: flex-end; margin-top: 12px;">
            <button class="btn btn-secondary" onclick="fecharModalCapimOutro()">Cancelar</button>
            <button class="btn btn-primary" onclick="salvarCapimOutroCustom()">Salvar</button>
        </div>
    </div>
</div>