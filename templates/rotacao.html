{% extends 'base.html' %}

{% block title %}IA RotaÃ§Ã£o{% endblock %}
{% block header_title %}ğŸ§  IA RotaÃ§Ã£o - {{ fazenda.nome }}{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/rotacao.css') }}">
{% endblock %}

{% block content %}
    <!-- Resumo Geral da Fazenda -->
    <div id="resumo-gerais" class="resumo-gerais">
        <div class="resumo-box lotes"><strong id="total-lotes">0</strong><span>ğŸ“‹ Lotes</span></div>
        <div class="resumo-box animais"><strong id="total-animais">0</strong><span>ğŸ„ Animais</span></div>
        <div class="resumo-box ocupada"><strong id="area-ocupada">0</strong><span>ğŸ”´ Ha Ocup.</span></div>
        <div class="resumo-box descanso"><strong id="area-descanso">0</strong><span>ğŸŸ¡ Ha Desc.</span></div>
        <div class="resumo-box altura"><strong id="media-altura">0</strong><span>ğŸ“ Alt. MÃ©dia</span></div>
        <div class="resumo-box prontos"><strong id="prontos">0</strong><span>ğŸŸ¢ Prontos</span></div>
        <div class="resumo-box criticos"><strong id="criticos">0</strong><span>ğŸ”´ CrÃ­ticos</span></div>
    </div>
    
    <!-- Stats por Status -->
    <div class="stats-row">
        <div class="stat-box apto"><strong id="count-apto">0</strong><span>ğŸŸ¢ Apto</span></div>
        <div class="stat-box ocupacao"><strong id="count-ocupacao">0</strong><span>ğŸ”µ Ocupado</span></div>
        <div class="stat-box descanso"><strong id="count-descanso">0</strong><span>ğŸŸ¡ Descanso</span></div>
        <div class="stat-box proximo"><strong id="count-proximo">0</strong><span>ğŸŸ  PrÃ³ximo</span></div>
        <div class="stat-box saida"><strong id="count-saida">0</strong><span>ğŸ”´ SaÃ­da</span></div>
        <div class="stat-box bloqueado"><strong id="count-bloqueado">0</strong><span>ğŸŸ£ Bloqueado</span></div>
    </div>
    
    <!-- SeÃ§Ãµes de Listagem de Piquetes -->
    <div id="section-saida" class="section" style="display:none;">
        <h2>ğŸ”´ SAÃDA IMEDIATA</h2>
        <p style="color: #dc3545; margin-bottom: 15px;">âš ï¸ Estes piquetes precisam de aÃ§Ã£o URGENTE!</p>
        <div id="lista-saida"></div>
    </div>

    <div id="section-proximo" class="section" style="display:none;">
        <h2>ğŸŸ  PRÃ“XIMO DA SAÃDA</h2>
        <p style="color: #fd7e14; margin-bottom: 15px;">Planeje a saÃ­da em breve.</p>
        <div id="lista-proximo"></div>
    </div>

    <div id="section-ocupacao" class="section" style="display:none;">
        <h2>ğŸ”µ EM OCUPAÃ‡ÃƒO</h2>
        <p style="color: #007bff; margin-bottom: 15px;">Animais em pastejo.</p>
        <div id="lista-ocupacao"></div>
    </div>

    <div id="section-apto" class="section" style="display:none;">
        <h2>ğŸŸ¢ APTOS PARA ENTRADA</h2>
        <p style="color: #28a745; margin-bottom: 15px;">âœ… Prontos para receber animais!</p>
        <div id="lista-apto"></div>
    </div>

    <div id="section-descanso" class="section" style="display:none;">
        <h2>ğŸŸ¡ EM DESCANSO</h2>
        <p style="color: #ffc107; margin-bottom: 15px;">Em recuperaÃ§Ã£o.</p>
        <div id="lista-descanso"></div>
    </div>

    <div id="section-bloqueado" class="section" style="display:none;">
        <h2>ğŸŸ£ BLOQUEADOS</h2>
        <p style="color: #6f42c1; margin-bottom: 15px;">IndisponÃ­veis temporariamente.</p>
        <div id="lista-bloqueado"></div>
    </div>
    
    <!-- Legenda de Cores -->
    <div class="legend">
        <div class="legend-item"><div class="legend-dot" style="background: #dc3545;"></div>ğŸ”´ SaÃ­da Imediata</div>
        <div class="legend-item"><div class="legend-dot" style="background: #fd7e14;"></div>ğŸŸ  PrÃ³ximo da SaÃ­da</div>
        <div class="legend-item"><div class="legend-dot" style="background: #007bff;"></div>ğŸ”µ Em OcupaÃ§Ã£o</div>
        <div class="legend-item"><div class="legend-dot" style="background: #28a745;"></div>ğŸŸ¢ Apto para Entrada</div>
        <div class="legend-item"><div class="legend-dot" style="background: #ffc107;"></div>ğŸŸ¡ Em Descanso</div>
        <div class="legend-item"><div class="legend-dot" style="background: #6f42c1;"></div>ğŸŸ£ Bloqueado</div>
    </div>
    
    <!-- AÃ§Ãµes Inferiores -->
    <div class="actions-row" style="margin-top: 20px; display: flex; gap: 10px;">
        <button class="btn-rotacao btn-rotacao-primary" onclick="atualizar()">ğŸ”„ Atualizar Dados</button>
        <button class="btn-rotacao btn-rotacao-warning" onclick="verificarPassouPonto()">âš ï¸ Verificar Passou Ponto</button>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/rotacao.js') }}"></script>
{% endblock %}